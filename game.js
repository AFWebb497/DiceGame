let scoreslist=[],numRounds=0,balance=0,userInput;function getUserInput(){for(;null!==(userInput=window.prompt("Enter a number between 3 and 6:"))&&("3"===userInput||"4"===userInput||"5"===userInput||"6"===userInput?(console.log("Number of dice is: "+userInput),document.getElementById("originalButton").style.display="none",document.getElementById("startGame").style.display="block",window.close()):alert("Input must be between 3 and 6.")),null!==userInput&&(userInput<"3"||"6"<userInput););}function play(){numRounds++;var n=[];for(let e=0;e<userInput;e++)randomNumber=Math.floor(6*Math.random())+1,n.push(randomNumber);var e=scoreTally(n);console.log("Dice rolls are ",n),console.log("Score is: ",e),document.getElementById("roundScore").innerHTML="Your score is "+e,document.getElementById("roundNum").innerHTML="Round Number is : "+numRounds,balance+=e;document.getElementById("balance").innerHTML=" Overall balance: "+balance,document.getElementById("startGame").style.display="none",document.getElementById("playAgain").style.display="block",document.getElementById("endGame").style.display="block",scoreslist.push(e),console.log("All scores are "+scoreslist);var e=table(userInput,n),t=document.getElementById("dicerolls");t.innerHTML="",t.appendChild(e)}function table(n,t){var e=document.createElement("table"),r=document.createElement("tr");for(let e=0;e<n;e++){var o=document.createElement("td"),u=(r.appendChild(o),document.createElement("img"));u.src="dice"+t[e]+".png",u.title="Image of dice showing the number "+t[e],o.appendChild(u)}return e.appendChild(r),e}function endGame(){document.getElementById("dicerolls").style.display="none",document.getElementById("playAgain").style.display="none",document.getElementById("roundResult").style.display="none",document.getElementById("roundScore").style.display="none",document.getElementById("endGame").style.display="none",document.getElementById("reset").style.display="block",roundNum.innerHTML="Total rounds played is: "+numRounds,document.getElementById("balance").innerHTML=" Final balance: "+balance,document.getElementById("averageScore").innerHTML=" Your average score over the rounds was : "+averageScores(scoreslist).toFixed(2)}function scoreTally(e){e.sort();var n=e.reduce((e,n)=>e+n,0);return sameN(e)?(document.getElementById("roundResult").innerHTML="Congrats! You got all the same number! That's an extra 60 points",n+60):almostsameN(e)?(document.getElementById("roundResult").innerHTML="Congrats! You got almost all the same number! That's an extra 40 points!",n+40):run(e)?(document.getElementById("roundResult").innerHTML="Congrats! You got a run! That's an extra 20 points",n+20):unique(e)&&0==run(e)?(document.getElementById("roundResult").innerHTML="WOW! All unique numbers! Your score is the sum of your dice rolls!",n):(document.getElementById("roundResult").innerHTML="Sorry! You didn't get any points this round!",0)}function sameN(n){for(let e=1;e<n.length;e++)if(n[e]!==n[0])return!1;return!0}function almostsameN(t){let n=0;for(let e=1;e<t.length;e++)if(t[e]!==t[e-1]&&1<++n)return!1;var e=t.reduce((e,n)=>n===t[0]?e+1:e,0),r=t.reduce((e,n)=>n===t[t.length-1]?e+1:e,0);return 1===n&&(1==e||1==r)}function run(n){for(let e=1;e<n.length;e++)if(n[e]!=n[e-1]+1)return!1;return!0}function unique(e){return new Set(e).size===e.length}function averageScores(e){return e.reduce((e,n)=>e+n)/e.length}
